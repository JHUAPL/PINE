<!-- (C) 2019 The Johns Hopkins University Applied Physics Laboratory LLC.-->
<div fxLayout="column" id="top-div">
    <mat-toolbar class="app-toolbar" color="primary" fxLayout="row">
        <div fxLayout="row" style="cursor: pointer" [routerLink]=" ['/collection'] " routerLinkActive="active">
            <img class="logo-img" src="assets/tree_icon_sketch.png" alt="PINE Logo"/>
            <h1>{{title}}</h1>
        </div>
        <ng-container *ngIf="ready && !backendError && getLoggedIn()">

            <span fxFlex="8px"></span>
            <app-toolbar-nav></app-toolbar-nav>

            <span fxFlex></span>

        <button class="user-menu-btn" mat-flat-button color="primary" [matMenuTriggerFor]="userMenu" aria-label="User Profile">
            <span id="toolbar-user-name">{{ getLoggedInUserString() }}</span>
            <mat-icon>keyboard_arrow_down</mat-icon>
        </button>

        <mat-menu #userMenu="matMenu" yPosition="below" overlapTrigger="false">
            <app-user-card></app-user-card>
        </mat-menu>
        </ng-container>
    </mat-toolbar>

    <div class="page-content background-grey">
        <router-outlet></router-outlet>
    </div>
</div>
